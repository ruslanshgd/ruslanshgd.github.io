name: Deploy Hugo site to Pages

on:
  push:
    branches:
      - main
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages-${{ github.repository }}"
  cancel-in-progress: true

defaults:
  run:
    shell: bash

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      HUGO_VERSION: 0.128.0
    steps:
      - name: Install Hugo CLI
        run: |
          wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb
          sudo dpkg -i ${{ runner.temp }}/hugo.deb
      - name: Install Dart Sass
        run: sudo snap install dart-sass
      - name: Checkout
        uses: actions/checkout@v4
        with:
          submodules: recursive
          fetch-depth: 0
      - name: Setup Pages
        id: pages
        uses: actions/configure-pages@v5
      - name: Check and create required templates
        run: |
          echo "Checking for required Hugo templates:"
          
          # Create layouts directory if it doesn't exist
          mkdir -p layouts/_default
          mkdir -p layouts/partials
          
          # Base64 encoded templates (to avoid YAML syntax issues with Hugo {{ }})
          # IMPORTANT: All default values must be in quotes, e.g. default "value"
          # layouts/index.html
          INDEX_B64="e3sgZGVmaW5lICJtYWluIiB9fQogIHt7ICRjYXNlc1NlY3Rpb24gOj0gLlNpdGUuR2V0UGFnZSAic2VjdGlvbiIgImNhc2VzIiB9fQogIHt7ICRjYXNlcyA6PSB3aGVyZSAkY2FzZXNTZWN0aW9uLlJlZ3VsYXJQYWdlcyAiUGFyYW1zLnR5cGUiICJjYXNlIiB9fQogIDxkaXYgY2xhc3M9ImhvbWUiPgogICAgPGRpdiBjbGFzcz0iaG9tZS1oZXJvLXdyYXAiPgogICAgPHNlY3Rpb24gY2xhc3M9ImhvbWUtaGVybyBwb3J0Zm9saW8tY29udGVudCI+CiAgICAgIHt7IHdpdGggc2l0ZS5QYXJhbXMuYXV0aG9yX2ltYWdlIH19CiAgICAgIDxkaXYgY2xhc3M9ImhvbWUtaGVyb19faW50cm8taW1hZ2UiPgogICAgICAgIDxpbWcgc3JjPSJ7eyAuIHwgcmVsVVJMIH19IiBhbHQ9Int7IHNpdGUuUGFyYW1zLmF1dGhvcl9uYW1lIHwgZGVmYXVsdCAi0JDQstGC0L7RgCIgfX0iPgogICAgICA8L2Rpdj4KICAgICAge3sgZW5kIH19CiAgICAgIDxkaXYgY2xhc3M9ImhvbWUtaGVyb19fY29udGVudCI+CiAgICAgICAgPGgxIGNsYXNzPSJob21lLWhlcm9fX3RpdGxlIj4KICAgICAgICAgINCf0YDQuNCy0LXRgiwg0Y8ge3sgc2l0ZS5QYXJhbXMuYXV0aG9yX25hbWUgfCBkZWZhdWx0ICLQmNC80Y8iIH19LCB7eyBzaXRlLlBhcmFtcy5hdXRob3JfZ3JhZGUgfCBkZWZhdWx0ICLQv9GA0L7QtNGD0LrRgtC+0LLRi9C5INC00LjQt9Cw0LnQvdC10YAiIH19IDxzcGFuIGNsYXNzPSJob21lLWhlcm9fX2xvY2F0aW9uIj7wn5ONIHt7IHNpdGUuUGFyYW1zLmF1dGhvcl9jaXR5IHwgZGVmYXVsdCAi0JPQvtGA0L7QtCIgfX08L3NwYW4+CiAgICAgICAgPC9oMT4KICAgICAgICB7eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9pbnRybyB9fQogICAgICAgIDxkaXYgY2xhc3M9ImhvbWUtaGVyb19faW50cm8tdGV4dCI+CiAgICAgICAgICB7eyAuIHwgc2FmZUhUTUwgfX0KICAgICAgICA8L2Rpdj4KICAgICAgICB7eyBlbmQgfX0KICAgICAgPC9kaXY+CiAgICA8L3NlY3Rpb24+CiAgICA8L2Rpdj4KCiAgICA8c2VjdGlvbiBjbGFzcz0iaG9tZS1jYXNlcyBwb3J0Zm9saW8tY29udGVudCI+CiAgICAgIDx1bCBjbGFzcz0iY2FzZS1jYXJkcyI+CiAgICAgICAge3sgcmFuZ2Ugd2hlcmUgJGNhc2VzICJQYXJhbXMudHlwZSIgImNhc2UiIH19CiAgICAgICAge3sgJHBhZ2UgOj0gLiB9fQogICAgICAgIHt7ICRpbWcgOj0gZmFsc2UgfX0KICAgICAgICB7eyB3aXRoICRwYWdlLlBhcmFtcy5jYXJkX2ltYWdlIH19e3sgJGltZyA9IHBhcnRpYWwgImdldC1pbWFnZS1yZXNvdXJjZS5odG1sIiAoZGljdCAicGFnZSIgJHBhZ2UgInBhdGgiIC4gImNvbnRleHQiICJjYXJkIikgfX17eyBlbmQgfX0KICAgICAgICB7eyBpZiBub3QgJGltZyB9fXt7IHdpdGggJHBhZ2UuUGFyYW1zLmNvdmVyX2ltYWdlIH19e3sgJGltZyA9IHBhcnRpYWwgImdldC1pbWFnZS1yZXNvdXJjZS5odG1sIiAoZGljdCAicGFnZSIgJHBhZ2UgInBhdGgiIC4gImNvbnRleHQiICJjb3ZlciIpIH19e3sgZW5kIH19e3sgZW5kIH19CiAgICAgICAge3sgaWYgbm90ICRpbWcgfX17eyB3aXRoICRwYWdlLlBhcmFtcy5jb3Zlcl9pY29uIH19e3sgJGltZyA9IHBhcnRpYWwgImdldC1pbWFnZS1yZXNvdXJjZS5odG1sIiAoZGljdCAicGFnZSIgJHBhZ2UgInBhdGgiIC4gImNvbnRleHQiICJjb3ZlciIpIH19e3sgZW5kIH19e3sgZW5kIH19CiAgICAgICAge3sgJHBsYXRmb3JtIDo9ICRwYWdlLlBhcmFtcy5wbGF0Zm9ybSB8IGRlZmF1bHQgIndlYiIgfX0KICAgICAgICB7eyAkbGF5b3V0IDo9ICRwYWdlLlBhcmFtcy5sYXlvdXQgfCBkZWZhdWx0ICJjZW50ZXIiIH19CiAgICAgICAge3sgJGltZ1dpZHRoIDo9IDAgfX0KICAgICAgICB7eyBpZiAkaW1nIH19e3sgJGltZ1dpZHRoID0gJGltZy5XaWR0aCB9fXt7IGVuZCB9fQogICAgICAgIDxsaSBjbGFzcz0iY2FzZS1jYXJkIGNhc2UtY2FyZC0te3sgJHBsYXRmb3JtIH19IGNhc2UtY2FyZC0tbGF5b3V0LXt7ICRsYXlvdXQgfX0ie3sgaWYgYW5kICRpbWcgKGxlICRpbWdXaWR0aCA3NjgpIH19IGRhdGEtaW1hZ2Utd2lkdGg9Int7ICRpbWdXaWR0aCB9fSJ7eyBlbmQgfX0+CiAgICAgICAgICA8YSBjbGFzcz0iY2FzZS1jYXJkX19saW5rIiBocmVmPSJ7eyAkcGFnZS5SZWxQZXJtYWxpbmsgfX0iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXNlLWNhcmRfX2JvZHkiPgogICAgICAgICAgICAgIHt7IHdpdGggJHBhZ2UuUGFyYW1zLmNvbXBhbnlfbmFtZSB9fTxwIGNsYXNzPSJjYXNlLWNhcmRfX2NvbXBhbnkiPnt7IC4gfX08L3A+e3sgZW5kIH19CiAgICAgICAgICAgICAgPGgyIGNsYXNzPSJjYXNlLWNhcmRfX3RpdGxlIj57eyAkcGFnZS5UaXRsZSB9fTwvaDI+CiAgICAgICAgICAgICAge3sgd2l0aCAkcGFnZS5QYXJhbXMuY292ZXJfc3VidGl0bGUgfX08cCBjbGFzcz0iY2FzZS1jYXJkX19kZXNjIj57eyAuIH19PC9wPnt7IGVuZCB9fQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FzZS1jYXJkX19pbWFnZS13cmFwIj4KICAgICAgICAgICAgICB7eyBpZiAkaW1nIH19CiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPSJjYXNlLWNhcmRfX2ltYWdlIiBzcmM9Int7ICRpbWcuUmVsUGVybWFsaW5rIH19IiBhbHQ9IiJ7eyBpZiBsZSAkaW1nV2lkdGggNzY4IH19IGRhdGEtbW9iaWxlPSJ0cnVlInt7IGVuZCB9fT4KICAgICAgICAgICAgICB7eyBlbHNlIH19CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXNlLWNhcmRfX2ltYWdlIGNhc2UtY2FyZF9faW1hZ2UtLXBsYWNlaG9sZGVyIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9kaXY+CiAgICAgICAgICAgICAge3sgZW5kIH19CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9hPgogICAgICAgIDwvbGk+CiAgICAgICAge3sgZW5kIH19CiAgICAgIDwvdWw+CiAgICA8L3NlY3Rpb24+CgogICAge3sgcGFydGlhbCAiY2FyZWVyLXNlY3Rpb24uaHRtbCIgLiB9fQogICAge3sgcGFydGlhbCAiZWR1Y2F0aW9uLXNlY3Rpb24uaHRtbCIgLiB9fQogIDwvZGl2Pgp7eyBlbmQgfX0K"
          
          # layouts/_default/baseof.html
          BASEOF_B64="PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9Int7IHNpdGUuTGFuZ3VhZ2UuTGFuZyB9fSI+CiAgPGhlYWQ+CiAgICB7eyBwYXJ0aWFsICJoZWFkLmh0bWwiIC4gfX0KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJwb3J0Zm9saW8tY29udGFpbmVyIj4KICAgICAgPGhlYWRlciBjbGFzcz0ic2l0ZS1oZWFkZXIgcG9ydGZvbGlvLWNvbnRlbnQiPgogICAgICAgIHt7IHBhcnRpYWwgInNpdGUtaGVhZGVyLmh0bWwiIC4gfX0KICAgICAgPC9oZWFkZXI+CiAgICAgIDxtYWluIGNsYXNzPSJwb3J0Zm9saW8tY29udGVudCI+CiAgICAgICAge3sgYmxvY2sgIm1haW4iIC4gfX17eyBlbmQgfX0KICAgICAgPC9tYWluPgogICAgICA8Zm9vdGVyIGNsYXNzPSJzaXRlLWZvb3RlciBwb3J0Zm9saW8tY29udGVudCI+CiAgICAgICAge3sgcGFydGlhbCAic2l0ZS1oZWFkZXIuaHRtbCIgLiB9fQogICAgICA8L2Zvb3Rlcj4KICAgIDwvZGl2PgogIDwvYm9keT4KPC9odG1sPgo="
          
          # layouts/partials/head.html
          HEAD_B64="PG1ldGEgY2hhcnNldD0idXRmLTgiPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPgo8dGl0bGU+e3sgaWYgLklzSG9tZSB9fXt7IHNpdGUuUGFyYW1zLmF1dGhvcl9uYW1lIH19e3sgd2l0aCBzaXRlLlBhcmFtcy5hdXRob3Jfc3VybmFtZSB9fSB7eyAuIH19e3sgZW5kIH19e3sgd2l0aCBzaXRlLlBhcmFtcy5hdXRob3JfZ3JhZGUgfX0g4oCTIHt7IC4gfX17eyBlbmQgfX17eyBlbHNlIH19e3sgLlRpdGxlIH19IHwge3sgc2l0ZS5QYXJhbXMuYXV0aG9yX25hbWUgfX17eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9zdXJuYW1lIH19IHt7IC4gfX17eyBlbmQgfX17eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9ncmFkZSB9fSDigJMge3sgLiB9fXt7IGVuZCB9fXt7IGVuZCB9fTwvdGl0bGU+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ie3sgImNzcy9tYWluLmNzcyIgfCByZWxVUkwgfX0iPgo="
          
          # layouts/partials/site-header.html
          SITEHEADER_B64="PGEgaHJlZj0ie3sgIi8iIHwgcmVsVVJMIH19IiBjbGFzcz0ic2l0ZS1oZWFkZXJfX25hbWUiPnt7IHNpdGUuUGFyYW1zLmF1dGhvcl9uYW1lIHwgZGVmYXVsdCBzaXRlLlRpdGxlIH19PC9hPgo8bmF2IGNsYXNzPSJzaXRlLWhlYWRlcl9fbmF2Ij4KICB7eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9lbWFpbCB9fTxhIGhyZWY9Im1haWx0bzp7eyAuIH19Ij7Qn9C+0YfRgtCwPC9hPnt7IGVuZCB9fQogIHt7IHdpdGggc2l0ZS5QYXJhbXMuYXV0aG9yX3RlbGVncmFtIH19PGEgaHJlZj0ie3sgLiB9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiPlRlbGVncmFtPC9hPnt7IGVuZCB9fQogIHt7IHdpdGggc2l0ZS5QYXJhbXMuYXV0aG9yX2xpbmtlZGluIH19PGEgaHJlZj0ie3sgLiB9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiPkxpbmtlZEluPC9hPnt7IGVuZCB9fQogIHt7IHdpdGggc2l0ZS5QYXJhbXMuYXV0aG9yX2JlaGFuY2UgfX08YSBocmVmPSJ7eyAuIH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+QmVoYW5jZTwvYT57eyBlbmQgfX0KICB7eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9kcmliYmJsZSB9fTxhIGhyZWY9Int7IC4gfX0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj5EcmliYmJsZTwvYT57eyBlbmQgfX0KICB7eyB3aXRoIHNpdGUuUGFyYW1zLmF1dGhvcl9jdiB9fTxhIGhyZWY9Int7IC4gfX0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj5DVjwvYT57eyBlbmQgfX0KPC9uYXY+Cg=="
          
          # layouts/partials/career-section.html
          CAREER_B64="e3svKiAKICBDYXJlZXIgc2VjdGlvbi4KCiAgU3VwcG9ydHMgdHdvIGRhdGEgc291cmNlczoKICAxKSBwYXJhbXMuY2FyZWVyLml0ZW1zIOKAkyDQt9Cw0L/QvtC70L3Rj9C10YLRgdGPIFRlbGVncmFt4oCR0LHQvtGC0L7QvCDRh9C10YDQtdC3IGh1Z28udG9tbAogIDIpINCU0L7QutGD0LzQtdC90YLRiyDQuNC3INGA0LDQt9C00LXQu9CwIC9jb250ZW50L2NhcmVlciDigJMg0LrQsNC6INGA0LDQvdGM0YjQtQoqL319Cnt7ICRjYXJlZXJTZWN0aW9uIDo9IC5TaXRlLkdldFBhZ2UgInNlY3Rpb24iICJjYXJlZXIiIH19Cnt7ICRlbnRyaWVzIDo9IGNvbmQgKG5lICRjYXJlZXJTZWN0aW9uIG5pbCkgJGNhcmVlclNlY3Rpb24uUmVndWxhclBhZ2VzLkJ5V2VpZ2h0IHNsaWNlIH19Cnt7ICRjYXJlZXJQYXJhbXMgOj0gc2l0ZS5QYXJhbXMuY2FyZWVyIH19Cnt7ICRjYXJlZXJJdGVtcyA6PSBjb25kIChhbmQgKG5lICRjYXJlZXJQYXJhbXMgbmlsKSAoaXNzZXQgJGNhcmVlclBhcmFtcyAiaXRlbXMiKSkgJGNhcmVlclBhcmFtcy5pdGVtcyBzbGljZSB9fQoKe3sgaWYgb3IgKGd0IChsZW4gJGVudHJpZXMpIDApIChndCAobGVuICRjYXJlZXJJdGVtcykgMCkgfX0KPGRpdiBjbGFzcz0iY2FyZWVyLXdyYXAiPgogIDxzZWN0aW9uIGNsYXNzPSJjYXJlZXIgcG9ydGZvbGlvLWNvbnRlbnQiIGFyaWEtbGFiZWxsZWRieT0iY2FyZWVyLWhlYWRpbmciPgogICAgPGgyIGNsYXNzPSJjYXJlZXJfX3RpdGxlIiBpZD0iY2FyZWVyLWhlYWRpbmciPtCa0LDRgNGM0LXRgNCwPC9oMj4KCiAgICB7ey8qIDEuIFJlbmRlciBpdGVtcyBmcm9tIHBhcmFtcy5jYXJlZXIuaXRlbXMsINC10YHQu9C4INC+0L3QuCDQtdGB0YLRjCAqL319CiAgICB7eyBpZiBndCAobGVuICRjYXJlZXJJdGVtcykgMCB9fQogICAgICB7eyByYW5nZSAkY2FyZWVySXRlbXMgfX0KICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmVlci1pdGVtIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJlZXItaXRlbV9fbGVmdCI+CiAgICAgICAgICA8cCBjbGFzcz0iY2FyZWVyLWl0ZW1fX2NvbXBhbnkiPnt7IC5jb21wYW55IH19PC9wPgogICAgICAgICAge3sgd2l0aCAucm9sZSB9fTxwIGNsYXNzPSJjYXJlZXItaXRlbV9fcG9zaXRpb24iPnt7IC4gfX08L3A+e3sgZW5kIH19CiAgICAgICAgICA8cCBjbGFzcz0iY2FyZWVyLWl0ZW1fX2RhdGVzIj4KICAgICAgICAgICAge3stIHdpdGggLnN0YXJ0IH19e3sgLiB9fXt7IGVuZCAtfX0KICAgICAgICAgICAge3stIGlmIG9yIC5zdGFydCAuZW5kIH19ICZtZGFzaDsge3sgZW5kIC19fQogICAgICAgICAgICB7ey0gd2l0aCAuZW5kIH19e3sgLiB9fXt7IGVuZCAtfX0KICAgICAgICAgIDwvcD4KICAgICAgICAgIHt7IHdpdGggLmxvY2F0aW9uIH19PHAgY2xhc3M9ImNhcmVlci1pdGVtX19sb2NhdGlvbiI+e3sgLiB9fTwvcD57eyBlbmQgfX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJlZXItaXRlbV9fcmlnaHQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZWVyLWl0ZW1fX2NvbnRlbnQgcHJvc2UiPgogICAgICAgICAgICB7eyAuZGVzY3JpcHRpb24gfCBtYXJrZG93bmlmeSB9fQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvYXJ0aWNsZT4KICAgICAge3sgZW5kIH19CiAgICB7eyBlbHNlIGlmIGd0IChsZW4gJGVudHJpZXMpIDAgfX0KICAgIHt7LyogMi4gRmFsbGJhY2sgdG8gbGVnYWN5IC9jb250ZW50L2NhcmVlciBlbnRyaWVzICovfX0KICAgICAge3sgcmFuZ2UgJGVudHJpZXMgfX0KICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmVlci1pdGVtIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJlZXItaXRlbV9fbGVmdCI+CiAgICAgICAgICB7eyB3aXRoIC5QYXJhbXMubG9nbyB9fQogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZWVyLWl0ZW1fX2xvZ28iPgogICAgICAgICAgICA8aW1nIHNyYz0ie3sgLiB8IHJlbFVSTCB9fSIgYWx0PSIiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIHt7IGVuZCB9fQogICAgICAgICAgPHAgY2xhc3M9ImNhcmVlci1pdGVtX19jb21wYW55Ij57eyAuVGl0bGUgfX08L3A+CiAgICAgICAgICB7eyB3aXRoIC5QYXJhbXMucG9zaXRpb24gfX08cCBjbGFzcz0iY2FyZWVyLWl0ZW1fX3Bvc2l0aW9uIj57eyAuIH19PC9wPnt7IGVuZCB9fQogICAgICAgICAge3sgd2l0aCAuUGFyYW1zLmRhdGVzIH19PHAgY2xhc3M9ImNhcmVlci1pdGVtX19kYXRlcyI+e3sgLiB9fTwvcD57eyBlbmQgfX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJlZXItaXRlbV9fcmlnaHQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZWVyLWl0ZW1fX2NvbnRlbnQgcHJvc2UiPgogICAgICAgICAgICB7eyAuQ29udGVudCB9fQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvYXJ0aWNsZT4KICAgICAge3sgZW5kIH19CiAgICB7eyBlbmQgfX0KICA8L3NlY3Rpb24+CjwvZGl2Pgp7eyBlbmQgfX0K"
          
          # layouts/partials/education-section.html
          EDUCATION_B64="e3sgd2l0aCBzaXRlLlBhcmFtcy5lZHVjYXRpb24gfX0KICB7eyAkaGFzQ291cnNlcyA6PSBndCAobGVuIC5jb3Vyc2VzKSAwIH19CiAge3sgJGhhc1VuaXZlcnNpdGllcyA6PSBndCAobGVuIC51bml2ZXJzaXRpZXMpIDAgfX0KICB7eyBpZiBvciAkaGFzQ291cnNlcyAkaGFzVW5pdmVyc2l0aWVzIH19CjxkaXYgY2xhc3M9ImVkdWNhdGlvbi13cmFwIj4KICA8c2VjdGlvbiBjbGFzcz0iZWR1Y2F0aW9uIHBvcnRmb2xpby1jb250ZW50IiBhcmlhLWxhYmVsbGVkYnk9ImVkdWNhdGlvbi1oZWFkaW5nIj4KICAgIDxoMiBjbGFzcz0iZWR1Y2F0aW9uX190aXRsZSIgaWQ9ImVkdWNhdGlvbi1oZWFkaW5nIj7QntCx0YDQsNC30L7QstCw0L3QuNC1PC9oMj4KCiAgICB7eyBpZiAkaGFzQ291cnNlcyB9fQogICAgPGRpdiBjbGFzcz0iZWR1Y2F0aW9uX19ibG9jayBlZHVjYXRpb25fX2Jsb2NrLS1jb3Vyc2VzIj4KICAgICAgPGgzIGNsYXNzPSJlZHVjYXRpb25fX3N1YnRpdGxlIj7QmtGD0YDRgdGLPC9oMz4KICAgICAgPHVsIGNsYXNzPSJlZHVjYXRpb24tbGlzdCBlZHVjYXRpb24tbGlzdC0tY291cnNlcyI+CiAgICAgICAge3sgcmFuZ2UgLmNvdXJzZXMgfX0KICAgICAgICA8bGkgY2xhc3M9ImVkdWNhdGlvbi1saXN0X19pdGVtIj4KICAgICAgICAgIDxwPgogICAgICAgICAgICB7eyBpZiAudXJsIH19CiAgICAgICAgICAgICAgPGEgaHJlZj0ie3sgLnVybCB9fSIgY2xhc3M9ImVkdWNhdGlvbi1saXN0X19saW5rIiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciBub3JlZmVycmVyIj57eyAudGl0bGUgfX08L2E+CiAgICAgICAgICAgIHt7IGVsc2UgfX0KICAgICAgICAgICAgICB7eyAudGl0bGUgfX0KICAgICAgICAgICAge3sgZW5kIH19CiAgICAgICAgICAgIHt7IHdpdGggLnByb3ZpZGVyIH19IHt7IC4gfX17eyBlbmQgfX0KICAgICAgICAgICAge3sgaWYgb3IgLnllYXIgLnN0YXR1cyB9fSAmbmRhc2g7IHt7IGlmIC5zdGF0dXMgfX17eyAuc3RhdHVzIH19e3sgZWxzZSB9fXt7IC55ZWFyIH19INCz0L7QtHt7IGVuZCB9fXt7IGVuZCB9fQogICAgICAgICAgICB7eyB3aXRoIC5jZXJ0aWZpY2F0ZSB9fSAmbWRhc2g7IDxhIGhyZWY9Int7IC4gfX0iIGNsYXNzPSJlZHVjYXRpb24tbGlzdF9fY2VydGlmaWNhdGUiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiPtGB0LXRgNGC0LjRhNC40LrQsNGCPC9hPnt7IGVuZCB9fQogICAgICAgICAgPC9wPgogICAgICAgIDwvbGk+CiAgICAgICAge3sgZW5kIH19CiAgICAgIDwvdWw+CiAgICA8L2Rpdj4KICAgIHt7IGVuZCB9fQoKICAgIHt7IGlmICRoYXNVbml2ZXJzaXRpZXMgfX0KICAgIDxkaXYgY2xhc3M9ImVkdWNhdGlvbl9fYmxvY2sgZWR1Y2F0aW9uX19ibG9jay0tdW5pdmVyc2l0aWVzIj4KICAgICAgPGgzIGNsYXNzPSJlZHVjYXRpb25fX3N1YnRpdGxlIj7Qo9C90LjQstC10YDRgdC40YLQtdGCPC9oMz4KICAgICAgPHVsIGNsYXNzPSJlZHVjYXRpb24tbGlzdCBlZHVjYXRpb24tbGlzdC0tdW5pdmVyc2l0aWVzIj4KICAgICAgICB7eyByYW5nZSAudW5pdmVyc2l0aWVzIH19CiAgICAgICAgPGxpIGNsYXNzPSJlZHVjYXRpb24tbGlzdF9faXRlbSI+CiAgICAgICAgICA8cD4KICAgICAgICAgICAgPGVtPnt7IC5uYW1lIH19IHt7IC55ZWFyIH19INCz0L7QtDwvZW0+CiAgICAgICAgICA8L3A+CiAgICAgICAgICA8cD4KICAgICAgICAgICAge3sgLnNwZWNpYWxpdHkgfX17eyB3aXRoIC5kZWdyZWUgfX0sIHt7IC4gfX17eyBlbmQgfX17eyB3aXRoIC5ub3RlIH19ICZuZGFzaDsge3sgLiB9fXt7IGVuZCB9fQogICAgICAgICAgPC9wPgogICAgICAgIDwvbGk+CiAgICAgICAge3sgZW5kIH19CiAgICAgIDwvdWw+CiAgICA8L2Rpdj4KICAgIHt7IGVuZCB9fQogIDwvc2VjdGlvbj4KPC9kaXY+CiAge3sgZW5kIH19Cnt7IGVuZCB9fQoK"
          
          # Always ensure templates are up-to-date (overwrite to ensure latest version)
          echo "üìù Ensuring all Hugo templates are up-to-date..."
          echo "$INDEX_B64" | base64 -d > layouts/index.html
          echo "‚úÖ Updated layouts/index.html"
          
          echo "$BASEOF_B64" | base64 -d > layouts/_default/baseof.html
          echo "‚úÖ Updated layouts/_default/baseof.html"
          
          echo "$HEAD_B64" | base64 -d > layouts/partials/head.html
          echo "‚úÖ Updated layouts/partials/head.html"
          
          echo "$SITEHEADER_B64" | base64 -d > layouts/partials/site-header.html
          echo "‚úÖ Updated layouts/partials/site-header.html"
          
          echo "$CAREER_B64" | base64 -d > layouts/partials/career-section.html
          echo "‚úÖ Updated layouts/partials/career-section.html"
          
          echo "$EDUCATION_B64" | base64 -d > layouts/partials/education-section.html
          echo "‚úÖ Updated layouts/partials/education-section.html"
          
          echo ""
          echo "üìÅ Final layouts structure:"
          find layouts -type f -name "*.html" | head -20
      - name: Ensure CSS file exists
        run: |
          mkdir -p static/css
          echo "üìù Ensuring CSS file is up-to-date..."
          # Try to get CSS from template repo (public access) first
          curl -sL "https://raw.githubusercontent.com/ruslanshgd/iziPortfolio-template/main/static/css/main.css" > static/css/main.css || {
            echo "‚ö†Ô∏è Could not fetch CSS from template, using full CSS from base64..."
            # Base64 encoded full CSS (to avoid YAML syntax issues)
            CSS_B64="LyogUG9ydGZvbGlvIGdyaWQ6IGNvbnRhaW5lciAxMzYwcHgsIGNvbnRlbnQgMTE0MHB4IChwZXIgLmN1cnNvci90ZW1wbGF0ZXMvcG9ydGZvbGlvLWNhc2Utc3RydWN0dXJlLm1kYykgKi8KOnJvb3QgewogIC0tY29udGFpbmVyLW1heDogMTM2MHB4OwogIC0tY29udGVudC1tYXg6IDExNDBweDsKICAtLWdhcDogMjRweDsKfQoKKiwKKjo6YmVmb3JlLAoqOjphZnRlciB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKYm9keSB7CiAgbWFyZ2luOiAwOwogIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiAxNnB4OwogIGxpbmUtaGVpZ2h0OiAxLjU7CiAgY29sb3I6ICMxYTFhMWE7Cn0KCi8qIE91dGVyIGNvbnRhaW5lcjogbWF4IDEzNjBweCwgY2VudGVyZWQgKi8KLnBvcnRmb2xpby1jb250YWluZXIgewogIG1heC13aWR0aDogdmFyKC0tY29udGFpbmVyLW1heCk7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIHBhZGRpbmctbGVmdDogdmFyKC0tZ2FwKTsKICBwYWRkaW5nLXJpZ2h0OiB2YXIoLS1nYXApOwp9CgovKiBDb250ZW50IGdyaWQ6IDExNDBweCBjb250ZW50IHdpZHRoIGluc2lkZSBjb250YWluZXIgKi8KLnBvcnRmb2xpby1jb250ZW50IHsKICBtYXgtd2lkdGg6IHZhcigtLWNvbnRlbnQtbWF4KTsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KCi8qIFNlY3Rpb24gc3BhY2luZyAqLwouY2FzZS1zZWN0aW9uIHsKICBwYWRkaW5nLXRvcDogMnJlbTsKICBwYWRkaW5nLWJvdHRvbTogMnJlbTsKfQoKLmNhc2Utc2VjdGlvbjpmaXJzdC1vZi10eXBlIHsKICBwYWRkaW5nLXRvcDogMDsKfQoKLyogVHlwb2dyYXBoeSAqLwouY2FzZS1zZWN0aW9uIGgyIHsKICBmb250LXNpemU6IDEuNXJlbTsKICBtYXJnaW4tdG9wOiAwOwogIG1hcmdpbi1ib3R0b206IDFyZW07Cn0KCi5jYXNlLXNlY3Rpb24gaDMgewogIGZvbnQtc2l6ZTogMS4yNXJlbTsKICBtYXJnaW4tdG9wOiAxLjVyZW07CiAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwp9CgouY2FzZS1zZWN0aW9uIHAsCi5jYXNlLXNlY3Rpb24gdWwgewogIG1hcmdpbi10b3A6IDA7CiAgbWFyZ2luLWJvdHRvbTogMXJlbTsKfQoKLmNhc2Utc2VjdGlvbiB1bCB7CiAgcGFkZGluZy1sZWZ0OiAxLjVyZW07Cn0KCi8qIENvdmVyIGJsb2NrICovCi5jYXNlLWNvdmVyIHsKICBtaW4taGVpZ2h0OiA0MHZoOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgcGFkZGluZzogM3JlbSAxcmVtOwp9CgouY2FzZS1jb3Zlci0taW1hZ2UgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsKfQoKLmNhc2UtY292ZXItLWltYWdlIC5jYXNlLWNvdmVyX19vdmVybGF5IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgaW5zZXQ6IDA7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgwLDAsMCwwLjIpIDAlLCByZ2JhKDAsMCwwLDAuNikgMTAwJSk7Cn0KCi5jYXNlLWNvdmVyLS1pbWFnZSAuY2FzZS1jb3Zlcl9faW5uZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiAxOwogIGNvbG9yOiAjZmZmOwp9CgouY2FzZS1jb3Zlcl9faWNvbiB7CiAgd2lkdGg6IDgwcHg7CiAgaGVpZ2h0OiA4MHB4OwogIG1hcmdpbjogMCBhdXRvIDFyZW07CiAgb2JqZWN0LWZpdDogY29udGFpbjsKfQoKLmNhc2UtY292ZXJfX3RpdGxlIHsKICBmb250LXNpemU6IDJyZW07CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBtYXJnaW46IDAgMCAwLjVyZW07Cn0KCi5jYXNlLWNvdmVyX19zdWJ0aXRsZSB7CiAgZm9udC1zaXplOiAxcmVtOwogIG9wYWNpdHk6IDAuOTsKICBtYXJnaW46IDA7Cn0KCi5jYXNlLWNvdmVyX19tZXRhIHsKICBmb250LXNpemU6IDAuODc1cmVtOwogIG9wYWNpdHk6IDAuODsKICBtYXJnaW4tYm90dG9tOiAwLjVyZW07Cn0KCi8qIFRleHQgKyBpbWFnZSBwYXR0ZXJuICovCi5ibG9jay10ZXh0LWltYWdlIHsKICBkaXNwbGF5OiBncmlkOwogIGdhcDogdmFyKC0tZ2FwKTsKICBtYXJnaW4tYm90dG9tOiAycmVtOwp9CgpAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsKICAuYmxvY2stdGV4dC1pbWFnZSB7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7CiAgICBhbGlnbi1pdGVtczogc3RhcnQ7CiAgfQp9CgouYmxvY2stdGV4dC1pbWFnZV9fbWVkaWEgaW1nIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87CiAgZGlzcGxheTogYmxvY2s7Cn0KCi8qIExheW91dCBibG9jayAoaGVhZGluZyArIHRleHQgKyBpbWFnZSkgKi8KLmxheW91dC1ibG9jayB7CiAgbWFyZ2luLWJvdHRvbTogM3JlbTsKfQoKLmxheW91dC1ibG9ja19fdGl0bGUgewogIGZvbnQtc2l6ZTogMS41cmVtOwogIG1hcmdpbi1ib3R0b206IDAuMjVyZW07Cn0KCi5sYXlvdXQtYmxvY2tfX3N1YnRpdGxlIHsKICBmb250LXNpemU6IDFyZW07CiAgY29sb3I6ICM1NTU7CiAgbWFyZ2luLWJvdHRvbTogMXJlbTsKfQoKLmxheW91dC1ibG9ja19faW1hZ2VzIHsKICBkaXNwbGF5OiBncmlkOwogIGdhcDogdmFyKC0tZ2FwKTsKICBtYXJnaW4tdG9wOiAxcmVtOwp9CgoubGF5b3V0LWJsb2NrX19pbWFnZXMgaW1nIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87CiAgZGlzcGxheTogYmxvY2s7Cn0KCi8qIEJlZm9yZS9hZnRlciAqLwouYmVmb3JlLWFmdGVyIHsKICBkaXNwbGF5OiBncmlkOwogIGdhcDogdmFyKC0tZ2FwKTsKICBtYXJnaW46IDJyZW0gMDsKICBwYWRkaW5nOiAxLjVyZW07CiAgYmFja2dyb3VuZDogI2Y1ZjVmNTsKICBib3JkZXItcmFkaXVzOiA4cHg7Cn0KCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkgewogIC5iZWZvcmUtYWZ0ZXIgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOwogIH0KfQoKLmJlZm9yZS1hZnRlcl9fbWV0cmljIHsKICBmb250LXNpemU6IDJyZW07CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBjb2xvcjogIzBhMDsKfQoKLyogUmVzdWx0cyAqLwoucmVzdWx0cy1ibG9jayB7CiAgcGFkZGluZzogMnJlbSAwOwogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwp9CgovKiAtLS0gU2l0ZSBoZWFkZXIgKG5hbWUgbGVmdCwgbGlua3MgcmlnaHQpIC0tLSAqLwouc2l0ZS1oZWFkZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgcGFkZGluZy10b3A6IDEuNXJlbTsKICBwYWRkaW5nLWJvdHRvbTogMS41cmVtOwogIGZsZXgtd3JhcDogd3JhcDsKICBnYXA6IDFyZW07Cn0KCi5zaXRlLWhlYWRlcl9fbmFtZSB7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBmb250LXNpemU6IDEuMTI1cmVtOwogIGNvbG9yOiBpbmhlcml0OwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKLnNpdGUtaGVhZGVyX19uYW1lOmhvdmVyIHsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQoKLnNpdGUtaGVhZGVyX19uYXYgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiAxLjVyZW07CiAgZmxleC13cmFwOiB3cmFwOwp9Cgouc2l0ZS1oZWFkZXJfX25hdiBhIHsKICBjb2xvcjogIzMzMzsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZm9udC1zaXplOiAwLjkzNzVyZW07Cn0KCi5zaXRlLWhlYWRlcl9fbmF2IGE6aG92ZXIgewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cgouc2l0ZS1mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgcGFkZGluZy10b3A6IDEuNXJlbTsKICBwYWRkaW5nLWJvdHRvbTogMS41cmVtOwogIG1hcmdpbi10b3A6IDJyZW07CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgZmxleC13cmFwOiB3cmFwOwogIGdhcDogMXJlbTsKfQoKLnNpdGUtZm9vdGVyIC5zaXRlLWhlYWRlcl9fbmFtZSB7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBmb250LXNpemU6IDFyZW07Cn0KCi5zaXRlLWZvb3RlciAuc2l0ZS1oZWFkZXJfX25hdiBhIHsKICBmb250LXNpemU6IDAuOTM3NXJlbTsKfQoKLyogLS0tIEhvbWU6IGhlcm8gKNGC0ZHQvNC90YvQuSDRhNC+0L0sINC30LDQs9C+0LvQvtCy0L7QuiDRgdC70LXQstCwLCDQutGA0YPQs9C70L7QtSDRhNC+0YLQviDRgSDQt9C+0LvQvtGC0L7QuSDQvtCx0LLQvtC00LrQvtC5KSAtLS0gKi8KLmhvbWUtaGVyby13cmFwIHsKICAvKiDQkdC10LvRi9C5INGE0L7QvSDQv9C+INGD0LzQvtC70YfQsNC90LjRjiAqLwp9CgouaG9tZS1oZXJvIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgZ2FwOiAxLjVyZW07CiAgcGFkZGluZy10b3A6IDNyZW07CiAgcGFkZGluZy1ib3R0b206IDNyZW07Cn0KCi5ob21lLWhlcm9fX2NvbnRlbnQgewogIG1pbi13aWR0aDogMDsKfQoKLmhvbWUtaGVyb19fdGl0bGUgewogIGZvbnQtc2l6ZTogY2xhbXAoMS43NXJlbSwgNXZ3LCAzcmVtKTsKICBmb250LXdlaWdodDogNzAwOwogIGxpbmUtaGVpZ2h0OiAxLjE1OwogIG1hcmdpbjogMCAwIDEuMjVyZW07CiAgY29sb3I6ICMxYTFhMWE7Cn0KCgouaG9tZS1oZXJvX19sb2NhdGlvbiB7CiAgY29sb3I6ICMxYTFhMWE7CiAgZm9udC13ZWlnaHQ6IDUwMDsKfQoKLmhvbWUtaGVyb19faW50cm8tdGV4dCB7CiAgZm9udC1zaXplOiAxLjA2MjVyZW07CiAgbGluZS1oZWlnaHQ6IDEuNjU7CiAgY29sb3I6ICMzMzM7CiAgbWFyZ2luOiAwOwogIG1heC13aWR0aDogNzIwcHg7Cn0KCi5ob21lLWhlcm9fX2ludHJvLXRleHQgcCB7CiAgbWFyZ2luOiAwIDAgMC41ZW07Cn0KCi5ob21lLWhlcm9fX2ludHJvLXRleHQgcDpsYXN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAwOwp9CgouaG9tZS1oZXJvX19pbnRyby1pbWFnZSB7CiAgZmxleC1zaHJpbms6IDA7Cn0KCi5ob21lLWhlcm9fX2ludHJvLWltYWdlIGltZyB7CiAgd2lkdGg6IDEyMHB4OwogIGhlaWdodDogMTIwcHg7CiAgb2JqZWN0LWZpdDogY292ZXI7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIGRpc3BsYXk6IGJsb2NrOwp9CgovKiAtLS0gQ2FyZWVyICjQmtCw0YDRjNC10YDQsCk6INCx0LXQu9GL0Lkg0YTQvtC9LCDQtNCy0YPRhdC60L7Qu9C+0L3QvtGH0L3QsNGPINCy0LXRgNGB0YLQutCwIC0tLSAqLwouY2FyZWVyLXdyYXAgewogIC8qINCR0LXQu9GL0Lkg0YTQvtC9INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOICovCn0KCi5jYXJlZXIgewogIHBhZGRpbmctdG9wOiAzcmVtOwogIHBhZGRpbmctYm90dG9tOiAzcmVtOwp9CgouY2FyZWVyX190aXRsZSB7CiAgZm9udC1zaXplOiBjbGFtcCgxLjVyZW0sIDR2dywgMi4yNXJlbSk7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBtYXJnaW46IDAgMCAycmVtOwogIGNvbG9yOiAjMWExYTFhOwp9CgouY2FyZWVyLWl0ZW0gewogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgZ2FwOiAxLjVyZW07CiAgcGFkZGluZy10b3A6IDJyZW07CiAgcGFkZGluZy1ib3R0b206IDJyZW07CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7Cn0KCi5jYXJlZXItaXRlbTpmaXJzdC1vZi10eXBlIHsKICBwYWRkaW5nLXRvcDogMDsKICBib3JkZXItdG9wOiBub25lOwp9CgpAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsKICAuY2FyZWVyLWl0ZW0gewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtaW5tYXgoMCwgMC40ZnIpIDFmcjsKICAgIGdhcDogM3JlbTsKICAgIGFsaWduLWl0ZW1zOiBzdGFydDsKICB9Cn0KCi5jYXJlZXItaXRlbV9fbGVmdCB7CiAgbWluLXdpZHRoOiAwOwp9CgouY2FyZWVyLWl0ZW1fX2xvZ28gewogIG1hcmdpbi1ib3R0b206IDAuNzVyZW07Cn0KCi5jYXJlZXItaXRlbV9fbG9nbyBpbWcgewogIHdpZHRoOiA0OHB4OwogIGhlaWdodDogNDhweDsKICBvYmplY3QtZml0OiBjb250YWluOwogIGRpc3BsYXk6IGJsb2NrOwp9CgouY2FyZWVyLWl0ZW1fX2NvbXBhbnkgewogIGZvbnQtc2l6ZTogMS4xMjVyZW07CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBtYXJnaW46IDAgMCAwLjI1cmVtOwogIGNvbG9yOiAjMWExYTFhOwp9CgouY2FyZWVyLWl0ZW1fX3Bvc2l0aW9uIHsKICBmb250LXNpemU6IDFyZW07CiAgbWFyZ2luOiAwIDAgMC4yNXJlbTsKICBjb2xvcjogIzMzMzsKfQoKLmNhcmVlci1pdGVtX19kYXRlcyB7CiAgZm9udC1zaXplOiAwLjkzNzVyZW07CiAgbWFyZ2luOiAwOwogIGNvbG9yOiAjNjY2Owp9CgouY2FyZWVyLWl0ZW1fX3JpZ2h0IHsKICBtaW4td2lkdGg6IDA7Cn0KCi5jYXJlZXItaXRlbV9fY29udGVudC5wcm9zZSB7CiAgZm9udC1zaXplOiAxcmVtOwogIGxpbmUtaGVpZ2h0OiAxLjY1OwogIGNvbG9yOiAjMzMzOwp9CgouY2FyZWVyLWl0ZW1fX2NvbnRlbnQucHJvc2UgcCB7CiAgbWFyZ2luOiAwIDAgMC43NWVtOwp9CgouY2FyZWVyLWl0ZW1fX2NvbnRlbnQucHJvc2UgcDpmaXJzdC1jaGlsZCB7CiAgZm9udC13ZWlnaHQ6IDUwMDsKfQoKLmNhcmVlci1pdGVtX19jb250ZW50LnByb3NlIHA6bGFzdC1jaGlsZCB7CiAgbWFyZ2luLWJvdHRvbTogMDsKfQoKLmNhcmVlci1pdGVtX19jb250ZW50LnByb3NlIHVsIHsKICBtYXJnaW46IDAuNWVtIDAgMDsKICBwYWRkaW5nLWxlZnQ6IDEuMjVyZW07CiAgbGlzdC1zdHlsZTogZGlzYzsKfQoKLmNhcmVlci1pdGVtX19jb250ZW50LnByb3NlIGxpIHsKICBtYXJnaW4tYm90dG9tOiAwLjM1ZW07Cn0KCi5jYXJlZXItaXRlbV9fY29udGVudC5wcm9zZSBsaTpsYXN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAwOwp9CgovKiAtLS0gRWR1Y2F0aW9uICjQntCx0YDQsNC30L7QstCw0L3QuNC1KTog0LHQu9C+0Log0L/QvtC0INC60LDRgNGM0LXRgNC+0LkgLS0tICovCi5lZHVjYXRpb24td3JhcCB7CiAgLyog0JHQtdC70YvQuSDRhNC+0L0g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4sINC60LDQuiDRgyAuY2FyZWVyLXdyYXAgKi8KfQoKLmVkdWNhdGlvbiB7CiAgcGFkZGluZy10b3A6IDNyZW07CiAgcGFkZGluZy1ib3R0b206IDNyZW07Cn0KCi5lZHVjYXRpb25fX3RpdGxlIHsKICBmb250LXNpemU6IGNsYW1wKDEuNXJlbSwgNHZ3LCAyLjI1cmVtKTsKICBmb250LXdlaWdodDogNzAwOwogIG1hcmdpbjogMCAwIDJyZW07CiAgY29sb3I6ICMxYTFhMWE7Cn0KCi5lZHVjYXRpb25fX3N1YnRpdGxlIHsKICBmb250LXNpemU6IDEuMTI1cmVtOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbWFyZ2luOiAwIDAgMXJlbTsKICBjb2xvcjogIzMzMzsKfQoKLmVkdWNhdGlvbi1saXN0IHsKICBsaXN0LXN0eWxlOiBub25lOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwp9CgouZWR1Y2F0aW9uLWxpc3RfX2l0ZW0gewogIG1hcmdpbi1ib3R0b206IDFyZW07Cn0KCi5lZHVjYXRpb24tbGlzdF9faXRlbSBwIHsKICBtYXJnaW46IDAgMCAwLjI1cmVtOwp9CgouZWR1Y2F0aW9uLWxpc3RfX2l0ZW0gcDpsYXN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAwOwp9CgouZWR1Y2F0aW9uLWxpc3RfX2xpbmsgewogIGNvbG9yOiAjMDA1NWNjOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKLmVkdWNhdGlvbi1saXN0X19saW5rOmhvdmVyLAouZWR1Y2F0aW9uLWxpc3RfX2xpbms6Zm9jdXMtdmlzaWJsZSB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KCi5lZHVjYXRpb24tbGlzdF9fY2VydGlmaWNhdGUgewogIGNvbG9yOiAjMDA1NWNjOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKLmVkdWNhdGlvbi1saXN0X19jZXJ0aWZpY2F0ZTpob3ZlciwKLmVkdWNhdGlvbi1saXN0X19jZXJ0aWZpY2F0ZTpmb2N1cy12aXNpYmxlIHsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQoKLyogLS0tIEhvbWU6IGNhc2UgY2FyZHMgKNC+0LHQu9C+0LbQutC4INC60LXQudGB0L7QsikgLS0tICovCi5ob21lLWNhc2VzIHsKICBwYWRkaW5nLXRvcDogMXJlbTsKICBwYWRkaW5nLWJvdHRvbTogNHJlbTsKfQoKLmNhc2UtY2FyZHMgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgcGFkZGluZzogMDsKICBtYXJnaW46IDA7CiAgZGlzcGxheTogZ3JpZDsKICBnYXA6IHZhcigtLWdhcCk7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7Cn0KCi5jYXNlLWNhcmQgewogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogMTJweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGJveC1zaGFkb3c6IDAgMnB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7CiAgaGVpZ2h0OiA1MDBweDsKfQoKLmNhc2UtY2FyZDpob3ZlciB7CiAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDAsIDAsIDAsIDAuMTIpOwp9CgouY2FzZS1jYXJkX19saW5rIHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMnJlbTsKICBjb2xvcjogaW5oZXJpdDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgcGFkZGluZzogNDhweCAwIDU2cHggNjRweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaGVpZ2h0OiAxMDAlOwp9CgovKiBNb2JpbGUgcGxhdGZvcm06INC+0YLRgdGC0YPQvyDRgdC/0YDQsNCy0LAgMzJweCAqLwouY2FzZS1jYXJkLS1tb2JpbGUgLmNhc2UtY2FyZF9fbGluayB7CiAgcGFkZGluZy1yaWdodDogMzJweDsKfQoKLyogV2ViIHBsYXRmb3JtOiDQvtGC0YHRgtGD0L8g0YHQv9GA0LDQstCwIDAgKi8KLmNhc2UtY2FyZC0td2ViIC5jYXNlLWNhcmRfX2xpbmsgewogIHBhZGRpbmctcmlnaHQ6IDA7Cn0KCi5jYXNlLWNhcmRfX2JvZHkgewogIGZsZXg6IDE7CiAgbWluLXdpZHRoOiAwOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLmNhc2UtY2FyZF9faW1hZ2Utd3JhcCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGZsZXgtc2hyaW5rOiAwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgd2lkdGg6IDQwMHB4OwogIGhlaWdodDogNDAwcHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgovKiBMYXlvdXQ6IGNlbnRlciAtINC40LfQvtCx0YDQsNC20LXQvdC40LUg0L/QviDRhtC10L3RgtGA0YMg0YHQv9GA0LDQstCwICovCi5jYXNlLWNhcmQtLWxheW91dC1jZW50ZXIgLmNhc2UtY2FyZF9fbGluayB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmNhc2UtY2FyZC0tbGF5b3V0LWNlbnRlciAuY2FzZS1jYXJkX19pbWFnZS13cmFwIHsKICBhbGlnbi1zZWxmOiBjZW50ZXI7Cn0KCi8qIExheW91dDogcGlubmVkIC0g0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQsiDQv9GA0LDQstC+0Lwg0L3QuNC20L3QtdC8INGD0LPQu9GDICovCi5jYXNlLWNhcmQtLWxheW91dC1waW5uZWQgLmNhc2UtY2FyZF9fbGluayB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmNhc2UtY2FyZC0tbGF5b3V0LXBpbm5lZCAuY2FzZS1jYXJkX19pbWFnZS13cmFwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA0OHB4OwogIGJvdHRvbTogMDsKICByaWdodDogMDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIHdpZHRoOiA0MDBweDsKICBoZWlnaHQ6IGF1dG87CiAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gNDhweCk7Cn0KCi5jYXNlLWNhcmQtLWxheW91dC1waW5uZWQuY2FzZS1jYXJkLS1tb2JpbGUgLmNhc2UtY2FyZF9faW1hZ2Utd3JhcCB7CiAgcmlnaHQ6IDMycHg7Cn0KCi8qINCU0LvRjyBsYXlvdXQgcGlubmVkOiDQuNC30L7QsdGA0LDQttC10L3QuNC1INCy0YvRgNCw0LLQvdC40LLQsNC10YLRgdGPINC/0L4g0L3QuNC30YMg0YHQv9GA0LDQstCwICovCi5jYXNlLWNhcmQtLWxheW91dC1waW5uZWQgLmNhc2UtY2FyZF9faW1hZ2UgewogIG9iamVjdC1maXQ6IGNvbnRhaW47CiAgb2JqZWN0LXBvc2l0aW9uOiBib3R0b20gcmlnaHQ7Cn0KCi8qINCU0LvRjyDQvNC+0LHQuNC70YzQvdGL0YUgcGlubmVkOiDRhtC10L3RgtGA0LjRgNC+0LLQsNC90LjQtSwg0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC80LDRgdGI0YLQsNCx0LjRgNC+0LLQsNC90LjQtSwg0LLRi9GA0LDQstC90LjQstCw0L3QuNC1INC/0L4g0LLQtdGA0YXRgyAo0L3QuNC3INC+0LHRgNC10LfQsNC10YLRgdGPKSAqLwouY2FzZS1jYXJkLS1sYXlvdXQtcGlubmVkLmNhc2UtY2FyZC0tbW9iaWxlIC5jYXNlLWNhcmRfX2ltYWdlIHsKICBvYmplY3QtZml0OiBjb3ZlcjsKICBvYmplY3QtcG9zaXRpb246IHRvcCBjZW50ZXI7Cn0KCi8qINCU0LvRjyBsYXlvdXQgcGlubmVkOiDQtNC+0LHQsNCy0LvRj9C10Lwg0L7RgtGB0YLRg9C/INGB0L/RgNCw0LLQsCDQtNC70Y8gYm9keSwg0YfRgtC+0LHRiyDRgtC10LrRgdGCINC90LUg0LfQsNGF0L7QtNC40Lsg0L3QsCDQuNC30L7QsdGA0LDQttC10L3QuNC1ICovCi5jYXNlLWNhcmQtLWxheW91dC1waW5uZWQgLmNhc2UtY2FyZF9fYm9keSB7CiAgcGFkZGluZy1yaWdodDogNDUwcHg7IC8qIDQwMHB4INC40LfQvtCx0YDQsNC20LXQvdC40LUgKyA1MHB4INC30LDQt9C+0YAgKi8KfQoKLmNhc2UtY2FyZC0tbGF5b3V0LXBpbm5lZC5jYXNlLWNhcmQtLW1vYmlsZSAuY2FzZS1jYXJkX19ib2R5IHsKICBwYWRkaW5nLXJpZ2h0OiA0MzJweDsgLyogNDAwcHgg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSArIDMycHgg0L7RgtGB0YLRg9C/INGB0L/RgNCw0LLQsCAqLwp9CgovKiBMYXlvdXQ6IGJvdHRvbSAtINC40LfQvtCx0YDQsNC20LXQvdC40LUg0L/RgNC40LHQuNGC0L4g0Log0L3QuNC30YMg0YHQv9GA0LDQstCwICovCi5jYXNlLWNhcmQtLWxheW91dC1ib3R0b20gLmNhc2UtY2FyZF9fbGluayB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmNhc2UtY2FyZC0tbGF5b3V0LWJvdHRvbSAuY2FzZS1jYXJkX19pbWFnZS13cmFwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA0OHB4OwogIGJvdHRvbTogMDsKICByaWdodDogMDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsKICB3aWR0aDogNDAwcHg7CiAgaGVpZ2h0OiBhdXRvOwogIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDQ4cHgpOwp9CgouY2FzZS1jYXJkLS1sYXlvdXQtYm90dG9tLmNhc2UtY2FyZC0tbW9iaWxlIC5jYXNlLWNhcmRfX2ltYWdlLXdyYXAgewogIHJpZ2h0OiAzMnB4Owp9CgovKiDQlNC70Y8gbGF5b3V0IGJvdHRvbTog0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQstGL0YDQsNCy0L3QuNCy0LDQtdGC0YHRjyDQv9C+INC90LjQt9GDLCDQstC10YDRhdC90Y/RjyDRh9Cw0YHRgtGMINC80L7QttC10YIg0L7QsdGA0LXQt9Cw0YLRjNGB0Y8gKi8KLmNhc2UtY2FyZC0tbGF5b3V0LWJvdHRvbSAuY2FzZS1jYXJkX19pbWFnZSB7CiAgb2JqZWN0LWZpdDogY292ZXI7CiAgb2JqZWN0LXBvc2l0aW9uOiBib3R0b207CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CgouY2FzZS1jYXJkLS1sYXlvdXQtYm90dG9tIC5jYXNlLWNhcmRfX2ltYWdlW2RhdGEtbW9iaWxlPSJ0cnVlIl0gewogIG9iamVjdC1wb3NpdGlvbjogYm90dG9tOwp9CgovKiDQlNC70Y8gbGF5b3V0IGJvdHRvbTog0LTQvtCx0LDQstC70Y/QtdC8INC+0YLRgdGC0YPQvyDRgdC/0YDQsNCy0LAg0LTQu9GPIGJvZHksINGH0YLQvtCx0Ysg0YLQtdC60YHRgiDQvdC1INC30LDRhdC+0LTQuNC7INC90LAg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSAqLwouY2FzZS1jYXJkLS1sYXlvdXQtYm90dG9tIC5jYXNlLWNhcmRfX2JvZHkgewogIHBhZGRpbmctcmlnaHQ6IDQ1MHB4OyAvKiA0MDBweCDQuNC30L7QsdGA0LDQttC10L3QuNC1ICsgNTBweCDQt9Cw0LfQvtGAICovCn0KCi5jYXNlLWNhcmQtLWxheW91dC1ib3R0b20uY2FzZS1jYXJkLS1tb2JpbGUgLmNhc2UtY2FyZF9fYm9keSB7CiAgcGFkZGluZy1yaWdodDogNDMycHg7IC8qIDQwMHB4INC40LfQvtCx0YDQsNC20LXQvdC40LUgKyAzMnB4INC+0YLRgdGC0YPQvyDRgdC/0YDQsNCy0LAgKi8KfQoKLmNhc2UtY2FyZF9faW1hZ2UgewogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvYmplY3QtZml0OiBjb250YWluOwogIG9iamVjdC1wb3NpdGlvbjogY2VudGVyOwp9CgovKiDQlNC70Y8g0LzQvtCx0LjQu9GM0L3Ri9GFINC40LfQvtCx0YDQsNC20LXQvdC40LkgLSDQstGL0YDQsNCy0L3QuNCy0LDQvdC40LUg0YHRgtGA0L7Qs9C+INC/0L4g0LLQtdGA0YXRgyAqLwouY2FzZS1jYXJkX19pbWFnZVtkYXRhLW1vYmlsZT0idHJ1ZSJdIHsKICBvYmplY3QtcG9zaXRpb246IHRvcDsKfQoKLyog0JTQu9GPIGxheW91dCBjZW50ZXIgLSDRhtC10L3RgtGA0LjRgNC+0LLQsNC90LjQtSAqLwouY2FzZS1jYXJkLS1sYXlvdXQtY2VudGVyIC5jYXNlLWNhcmRfX2ltYWdlIHsKICBvYmplY3QtcG9zaXRpb246IGNlbnRlcjsKfQoKLmNhc2UtY2FyZC0tbGF5b3V0LWNlbnRlciAuY2FzZS1jYXJkX19pbWFnZVtkYXRhLW1vYmlsZT0idHJ1ZSJdIHsKICBvYmplY3QtcG9zaXRpb246IHRvcDsKfQoKLmNhc2UtY2FyZF9faW1hZ2UtLXBsYWNlaG9sZGVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2U4ZThlOCAwJSwgI2Y1ZjVmNSAxMDAlKTsKfQoKQG1lZGlhIChtYXgtd2lkdGg6IDEwMjRweCkgewogIC5jYXNlLWNhcmQgewogICAgaGVpZ2h0OiA1MDBweDsKICB9CiAgCiAgLmNhc2UtY2FyZF9fbGluayB7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgcGFkZGluZzogMzJweCAyNHB4IDQwcHggMjRweDsKICAgIGhlaWdodDogMTAwJTsKICB9CiAgCiAgLmNhc2UtY2FyZC0tbW9iaWxlIC5jYXNlLWNhcmRfX2xpbmsgewogICAgcGFkZGluZy1yaWdodDogMjRweDsKICB9CiAgCiAgLmNhc2UtY2FyZF9fYm9keSB7CiAgICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgfQogIAogIC5jYXNlLWNhcmRfX2ltYWdlLXdyYXAgewogICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tdG9wOiAxLjVyZW07CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogNDAwcHg7CiAgICBib3R0b206IGF1dG8gIWltcG9ydGFudDsKICAgIHJpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7CiAgICB0b3A6IGF1dG8gIWltcG9ydGFudDsKICB9CiAgCiAgLmNhc2UtY2FyZF9faW1hZ2UgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvYmplY3QtZml0OiBjb250YWluOwogICAgb2JqZWN0LXBvc2l0aW9uOiB0b3A7CiAgfQogIAogIC5jYXNlLWNhcmRfX2ltYWdlLS1wbGFjZWhvbGRlciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICB9Cn0KCi5jYXNlLWNhcmRfX2NvbXBhbnkgewogIGZvbnQtc2l6ZTogMzJweDsKICBmb250LXdlaWdodDogNzAwOwogIG1hcmdpbjogMCAwIDAuNXJlbTsKICBsaW5lLWhlaWdodDogMS4yOwp9CgouY2FzZS1jYXJkX190aXRsZSB7CiAgZm9udC1zaXplOiBjbGFtcCgyOHB4LCA1dncsIDY4cHgpOwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgbWFyZ2luOiAwIDAgMC41cmVtOwogIGxpbmUtaGVpZ2h0OiAxLjE7Cn0KCi5jYXNlLWNhcmRfX2Rlc2MgewogIGZvbnQtc2l6ZTogMjJweDsKICBmb250LXdlaWdodDogNDAwOwogIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgY29sb3I6ICM1NTU7CiAgbWFyZ2luOiAwOwp9CgpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAuY2FzZS1jYXJkX19jb21wYW55IHsgZm9udC1zaXplOiAyNHB4OyB9CiAgLmNhc2UtY2FyZF9fdGl0bGUgeyBmb250LXNpemU6IDI4cHg7IH0KICAuY2FzZS1jYXJkX19kZXNjIHsgZm9udC1zaXplOiAxOHB4OyB9Cn0KCi8qIExpc3QgLyBjYXJkcyAobGVnYWN5OiBsaXN0IHBhZ2UpICovCi5jYXNlcy1saXN0IHsKICBsaXN0LXN0eWxlOiBub25lOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwogIGRpc3BsYXk6IGdyaWQ7CiAgZ2FwOiB2YXIoLS1nYXApOwp9CgouY2FzZXMtbGlzdF9faXRlbSB7CiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLmNhc2VzLWxpc3RfX2xpbmsgewogIGRpc3BsYXk6IGJsb2NrOwogIHBhZGRpbmc6IDEuNXJlbTsKICBjb2xvcjogaW5oZXJpdDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCi5jYXNlcy1saXN0X19saW5rOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZjlmOWY5Owp9CgouY2FzZXMtbGlzdF9fdGl0bGUgewogIG1hcmdpbjogMCAwIDAuMjVyZW07CiAgZm9udC1zaXplOiAxLjI1cmVtOwp9CgouY2FzZXMtbGlzdF9fZGVzYyB7CiAgbWFyZ2luOiAwOwogIGZvbnQtc2l6ZTogMC44NzVyZW07CiAgY29sb3I6ICM1NTU7Cn0K"
              echo "$CSS_B64" | base64 -d > static/css/main.css
          }
          echo "‚úÖ Updated static/css/main.css"
      - name: Build with Hugo
        env:
          HUGO_ENVIRONMENT: production
          HUGO_ENV: production
        run: |
          hugo \
            --gc \
            --minify \
            --baseURL "${{ steps.pages.outputs.base_url }}/"
      - name: Verify static files before build
        run: |
          echo "Checking static/images directory:"
          ls -la static/images/ 2>/dev/null || echo "‚ö†Ô∏è static/images/ directory not found"
          echo ""
          echo "Checking for author.jpg in static:"
          ls -la static/images/author.jpg 2>/dev/null || echo "‚ö†Ô∏è static/images/author.jpg not found"
          echo ""
          echo "Checking static/css directory:"
          ls -la static/css/ 2>/dev/null || echo "‚ö†Ô∏è static/css/ directory not found"
      - name: Verify build output
        run: |
          echo "Checking public directory contents:"
          ls -la public/ | head -20
          echo ""
          echo "Checking for index.html:"
          ls -la public/index.html || echo "ERROR: index.html not found!"
          echo ""
          echo "Checking for images directory in public:"
          ls -la public/images/ 2>/dev/null || echo "‚ö†Ô∏è public/images/ directory not found"
          echo ""
          echo "Checking for author.jpg in public:"
          ls -la public/images/author.jpg 2>/dev/null || echo "‚ö†Ô∏è public/images/author.jpg not found - Hugo should copy from static/"
          echo ""
          echo "Checking for CSS in public:"
          ls -la public/css/main.css 2>/dev/null || echo "‚ö†Ô∏è public/css/main.css not found"
          echo ""
          echo "Checking for index.xml:"
          ls -la public/index.xml || echo "index.xml not found"
          echo ""
          echo "File sizes:"
          du -h public/index.html public/index.xml 2>/dev/null || echo "Some files missing"
          echo ""
          echo "First 5 lines of index.html:"
          head -5 public/index.html 2>/dev/null || echo "index.html not readable"
          echo ""
          echo "Checking image path in index.html:"
          grep -o 'src="[^"]*author[^"]*"' public/index.html || echo "‚ö†Ô∏è author image path not found in HTML"
          echo ""
          echo "Checking header link in index.html:"
          grep -o 'href="[^"]*"[^>]*site-header\|site-nav' public/index.html | head -3 || echo "‚ö†Ô∏è header link not found in HTML"
          echo ""
          echo "Verifying index.html is valid HTML:"
          if head -1 public/index.html | grep -qi "<!doctype html>"; then
            echo "‚úÖ index.html starts with DOCTYPE"
          else
            echo "‚ùå ERROR: index.html does not start with DOCTYPE!"
            exit 1
          fi
      - name: Ensure index.html priority
        run: |
          # Move RSS feed to feed.xml to avoid conflict with index.html
          if [ -f public/index.xml ]; then
            mv public/index.xml public/feed.xml
            echo "‚úÖ Moved index.xml to feed.xml to ensure index.html priority"
          fi
          # Verify index.html exists and is first
          if [ ! -f public/index.html ]; then
            echo "‚ùå ERROR: index.html not found after build!"
            exit 1
          fi
          echo "‚úÖ index.html verified and prioritized"
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./public

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
